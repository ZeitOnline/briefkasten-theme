<rules xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <theme href="index.html" />
    <before content="/html/head/*"
        theme-children="/html/head" />

    <rules css:if-not-content="form#briefkasten-form">
        <replace css:theme-children="#briefkasten-content" css:content-children="#content" />
        <drop css:theme="#briefkasten-intro"/>
    </rules>

    <rules css:if-content="form#briefkasten-form">
        <replace css:theme="#briefkasten-content" css:content="#briefkasten-form" />
    </rules>

    <replace css:theme="#briefkasten-version" css:content="#version-info" />

    <xsl:template match="textarea[@name='message']">
      <xsl:copy>
        <xsl:attribute name="placeholder">Anonymisierte Nachricht an die Redaktion</xsl:attribute>
        <xsl:attribute name="class">input-row__input</xsl:attribute>
        <xsl:copy-of select="@*" />
        <xsl:apply-templates />
      </xsl:copy>
    </xsl:template>

    <xsl:template match="button[@id='briefkasten-formsubmit']/@class">
      <xsl:attribute name="class">submit-button</xsl:attribute>
    </xsl:template>

    <!-- fix English text in error response -->
    <xsl:template match="button[@id='briefkasten-formsubmit']/span/text()">
      Abschicken
    </xsl:template>

</rules>
